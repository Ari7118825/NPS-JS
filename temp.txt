import socket
import time

msg = bytes.fromhex(
    "01000000000000000000000000000000"
    "00000000000000000000000000000000"
    "00ffff00000000000000000000000000"
)

BROADCAST_PORT = 19132
INTERVAL = 1  # seconds

sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
sock.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)

print("Broadcasting LAN beacon every 1s on port 19132...")
while True:
    sock.sendto(msg, ('255.255.255.255', BROADCAST_PORT))
    time.sleep(INTERVAL)